import { test, expect } from '@playwright/test';

test('should add a new vehicle successfully', async ({ page }) => {
  await page.goto('http://localhost:3000');
  await page.waitForLoadState('domcontentloaded');

  await page.click('text=Login');
  
  await page.fill('input[placeholder="Email"]', 'qwert@123'); 
  await page.fill('input[placeholder="Password"]', '123'); 
  await page.click('button:has-text("Login")'); 

  await page.waitForNavigation();
  await page.goto('http://localhost:3000/vehicles');

  await page.fill('input[placeholder="Make"]', 'Toyota');
  await page.fill('input[placeholder="Model"]', 'Aqua');
  await page.fill('input[placeholder="Year"]', '2020');
  await page.fill('input[placeholder="Price"]', '800000');
  await page.selectOption('select', { label: 'Sedan' });
  await page.fill('input[placeholder="Image URL"]', 'data:image/jpeg;base64,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');
  await page.click('button[type="submit"]');

  // Click the "Add" button to insert into the table
  await page.click('button:has-text("Add")');

  // Wait for the table to update
  const rows = page.locator('table tbody tr');
  const rowCount = await rows.count();

  const lastRow = rows.nth(rowCount - 1);

  // âœ… Check the last row contains the correct details
  await expect(lastRow).toContainText('Toyota');
  await expect(lastRow).toContainText('Aqua');
  await expect(lastRow).toContainText('2020');
  await expect(lastRow).toContainText('800000');
  await expect(lastRow).toContainText('Sedan');
});
